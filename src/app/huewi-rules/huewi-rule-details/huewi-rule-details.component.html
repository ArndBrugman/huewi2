<huewi-rule 
  [rule]="rule">
</huewi-rule>

<div>
  <div>rule {{rule.__key}}</div>
  <div *ngIf="!expand" (click)="expand=true">
    <mat-icon>expand_more</mat-icon>
    <br>
  </div>
  <div *ngIf="expand">
    <div (click)="expand=false"> 
      <mat-icon>expand_less</mat-icon>
      <br>
    </div>
    <mat-divider></mat-divider>
    <div>
      <br>
    </div>
    <small>
      <div><b>Conditions :</b></div>
      <span *ngFor='let condition of rule.conditions; let last = last'>
        {{'{'}} {{condition.address}} {{condition.operator}}
        <span *ngIf='condition.value!==""'>'{{condition.value}}'</span> {{'}'}}
        <span *ngIf='!last'> & <br></span>
      </span>
      <br>
      <div><b>Actions :</b></div>
      <span *ngFor='let action of rule.actions; let last = last'>
        {{'{'}} {{action.method}} {{action.address}} {{action.body | json}} {{'}'}}
        <span *ngIf='!last'> + <br></span>
      </span>
    </small>
  </div>
</div>
